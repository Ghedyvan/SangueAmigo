<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    
    <link rel="stylesheet" href="./css/cadastro.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="icon" href="./img/title.png" />
    <title>Sangue Amigo</title>
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Archivo:wght@400;500;700&family=Overpass:ital,wght@1,100&family=Poppins:wght@400;500;700&family=Prosto+One&display=swap" rel="stylesheet">
  </head>
  <body>
    <main>
      <div class="contaainer">
        <div class="top-image">
          <a href="./cadastro.html">
            <button>
              <img src="./img/Voltar.svg" alt="" />
            </button>
            <button>
              <p>2/3</p>
            </button>
          </a>
        </div>
        <div class="register-box">
          <h1>Cadastro</h1>
          <p>Preencha os dados abaixo para começar.</p>
          <form>
            <div class="left">
              <select name="gender" id="gender">
                <option value="" selected>Sexo biológico</option>
                <option value="Male">Masculino</option>
                <option value="Female">Feminino</option>
              </select>
              <select name="bloodType" id="bloodType">
                <option value="" selected>Grupo sanguíneo</option>
                <option value="A" class="preenchido">A</option>
                <option value="B" class="preenchido">B</option>
                <option value="AB" class="preenchido">AB</option>
                <option value="O" class="preenchido">O</option>
              </select>
              <select name="rhFactor" id="rhFactor">
                <option value="" selected>Fator RH</option>
                <option value="Positive">Positivo</option>
                <option value="Negative">Negativo</option>
              </select>
              <input type="number" name="weight" id="weight" placeholder="peso (em kg)">
            </div>
            <button type="submit" id="submit">Continuar</button>
          </form>
        </div>
      </div>
    </main>
  </body>
  <script>
    function addListeners() {
      document.getElementById('submit').addEventListener('click', (event) => {
        event.preventDefault();
        saveInfo();
        window.location = 'cadastroend.html';
      })
    }
    addEventListener('DOMContentLoaded', addListeners);

    function saveInfo() {
      try{
        const gender = document.getElementById('gender').value;
        const bloodType = document.getElementById('bloodType').value;
        const rhFactor = document.getElementById('rhFactor').value;
        const weight = document.getElementById('weight').value;
        
        const userRegister = JSON.parse(localStorage.getItem('userRegister'));
        userRegister.gender = gender;
        userRegister.bloodType = bloodType;
        userRegister.rhFactor = rhFactor;
        userRegister.weight = weight;


        localStorage.setItem('userRegister', JSON.stringify(userRegister));
      } catch (err) {
        console.log(err);
      }
    }
  </script>
</html>
